function Q(){}function de(e,t){for(let n in t)e[n]=t[n];return e}function V(e){return e()}function W(){return Object.create(null)}function q(e){e.forEach(V)}function P(e){return typeof e=="function"}function k(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function me(e){return Object.keys(e).length===0}function M(e,t,n,r){if(e){let s=X(e,t,n,r);return e[0](s)}}function X(e,t,n,r){return e[1]&&r?de(n.ctx.slice(),e[1](r(t))):n.ctx}function pe(e,t,n,r){if(e[2]&&r){let s=e[2](r(n));if(t.dirty===void 0)return s;if(typeof s=="object"){let o=[],l=Math.max(t.dirty.length,s.length);for(let a=0;a<l;a+=1)o[a]=t.dirty[a]|s[a];return o}return t.dirty|s}return t.dirty}function N(e,t,n,r,s,o,l){let a=pe(t,r,s,o);if(a){let i=X(t,n,r,l);e.p(i,a)}}function w(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ge(e){return document.createTextNode(e)}function A(){return ge(" ")}function L(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _e(e){return Array.from(e.childNodes)}var Y;function O(e){Y=e}var B=[],Z=[],R=[],x=[],he=Promise.resolve(),F=!1;function be(){F||(F=!0,he.then(ee))}function G(e){R.push(e)}var H=!1,J=new Set;function ee(){if(!H){H=!0;do{for(let e=0;e<B.length;e+=1){let t=B[e];O(t),ve(t.$$)}for(O(null),B.length=0;Z.length;)Z.pop()();for(let e=0;e<R.length;e+=1){let t=R[e];J.has(t)||(J.add(t),t())}R.length=0}while(B.length);for(;x.length;)x.pop()();F=!1,H=!1,J.clear()}}function ve(e){if(e.fragment!==null){e.update(),q(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}var U=new Set,ke;function g(e,t){e&&e.i&&(U.delete(e),e.i(t))}function h(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),ke.c.push(()=>{U.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function j(e){e&&e.c()}function y(e,t,n){let{fragment:r,on_mount:s,on_destroy:o,after_update:l}=e.$$;r&&r.m(t,n),G(()=>{let a=s.map(V).filter(P);o?o.push(...a):q(a),e.$$.on_mount=[]}),l.forEach(G)}function C(e,t){let n=e.$$;n.fragment!==null&&(q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t){e.$$.dirty[0]===-1&&(B.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $(e,t,n,r,s,o,l=[-1]){let a=Y;O(e);let i=e.$$={fragment:null,ctx:null,props:o,update:Q,not_equal:s,bound:W(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:W(),dirty:l,skip_bound:!1},_=!1;if(i.ctx=n?n(e,t.props||{},(b,E,...S)=>{let u=S.length?S[0]:E;return i.ctx&&s(i.ctx[b],i.ctx[b]=u)&&(!i.skip_bound&&i.bound[b]&&i.bound[b](u),_&&we(e,b)),E}):[],i.update(),_=!0,q(i.before_update),i.fragment=r?r(i.ctx):!1,t.target){if(t.hydrate){let b=_e(t.target);i.fragment&&i.fragment.l(b),b.forEach(m)}else i.fragment&&i.fragment.c();t.intro&&g(e.$$.fragment),y(e,t.target,t.anchor),ee()}O(a)}var v=class{$destroy(){C(this,1),this.$destroy=Q}$on(t,n){let r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{let s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(t){this.$$set&&!me(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};function ye(e){let t,n,r=e[2].default,s=M(r,e,e[1],null);return{c(){t=d("div"),s&&s.c(),f(t,"class","paper"),f(t,"disabled",e[0])},m(o,l){p(o,t,l),s&&s.m(t,null),n=!0},p(o,[l]){s&&s.p&&l&2&&N(s,r,o,o[1],l,null,null),(!n||l&1)&&f(t,"disabled",o[0])},i(o){n||(g(s,o),n=!0)},o(o){h(s,o),n=!1},d(o){o&&m(t),s&&s.d(o)}}}function Ce(e,t,n){let{$$slots:r={},$$scope:s}=t,{disabled:o=!1}=t;return e.$$set=l=>{"disabled"in l&&n(0,o=l.disabled),"$$scope"in l&&n(1,s=l.$$scope)},[o,s,r]}var te=class extends v{constructor(t){super();$(this,t,Ce,ye,k,{disabled:0})}},z=te;function $e(e){let t,n,r;return{c(){t=d("input"),f(t,"type","text"),f(t,"name","tag-search-input"),f(t,"placeholder","Search tags e.g. sky,night"),t.disabled=e[0],t.value=e[1],f(t,"class","svelte-used1f")},m(s,o){p(s,t,o),n||(r=L(t,"change",function(){P(e[2])&&e[2].apply(this,arguments)}),n=!0)},p(s,o){e=s,o&1&&(t.disabled=e[0]),o&2&&t.value!==e[1]&&(t.value=e[1])},d(s){s&&m(t),n=!1,r()}}}function je(e){let t,n,r;return n=new z({props:{disabled:e[0],$$slots:{default:[$e]},$$scope:{ctx:e}}}),{c(){t=d("div"),j(n.$$.fragment),f(t,"class","tag-search svelte-used1f")},m(s,o){p(s,t,o),y(n,t,null),r=!0},p(s,[o]){let l={};o&1&&(l.disabled=s[0]),o&15&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){r||(g(n.$$.fragment,s),r=!0)},o(s){h(n.$$.fragment,s),r=!1},d(s){s&&m(t),C(n)}}}function Se(e,t,n){let{loading:r}=t,{tags:s=""}=t,{onTagChange:o}=t;return e.$$set=l=>{"loading"in l&&n(0,r=l.loading),"tags"in l&&n(1,s=l.tags),"onTagChange"in l&&n(2,o=l.onTagChange)},[r,s,o]}var ne=class extends v{constructor(t){super();$(this,t,Se,je,k,{loading:0,tags:1,onTagChange:2})}},se=ne;function Te(e){let t,n=e[2].default,r=M(n,e,e[3],null);return{c(){r&&r.c()},m(s,o){r&&r.m(s,o),t=!0},p(s,o){r&&r.p&&o&8&&N(r,n,s,s[3],o,null,null)},i(s){t||(g(r,s),t=!0)},o(s){h(r,s),t=!1},d(s){r&&r.d(s)}}}function Ee(e){let t,n,r,s,o;return n=new z({props:{disabled:e[1],$$slots:{default:[Te]},$$scope:{ctx:e}}}),{c(){t=d("button"),j(n.$$.fragment),f(t,"class","btn"),t.disabled=e[1]},m(l,a){p(l,t,a),y(n,t,null),r=!0,s||(o=L(t,"click",function(){P(e[0])&&e[0].apply(this,arguments)}),s=!0)},p(l,[a]){e=l;let i={};a&2&&(i.disabled=e[1]),a&8&&(i.$$scope={dirty:a,ctx:e}),n.$set(i),(!r||a&2)&&(t.disabled=e[1])},i(l){r||(g(n.$$.fragment,l),r=!0)},o(l){h(n.$$.fragment,l),r=!1},d(l){l&&m(t),C(n),s=!1,o()}}}function Ae(e,t,n){let{$$slots:r={},$$scope:s}=t,{onClick:o=()=>{}}=t,{disabled:l=!1}=t;return e.$$set=a=>{"onClick"in a&&n(0,o=a.onClick),"disabled"in a&&n(1,l=a.disabled),"$$scope"in a&&n(3,s=a.$$scope)},[o,l,r,s]}var re=class extends v{constructor(t){super();$(this,t,Ae,Ee,k,{onClick:0,disabled:1})}},oe=re;function Pe(e){let t,n,r,s;return{c(){t=D("svg"),n=D("path"),r=A(),s=d("span"),s.textContent="Refresh",f(n,"d","M13.5 2c-5.629 0-10.212 4.436-10.475 10h-3.025l4.537 5.917 4.463-5.917h-2.975c.26-3.902 3.508-7 7.475-7 4.136 0 7.5 3.364 7.5 7.5s-3.364 7.5-7.5 7.5c-2.381 0-4.502-1.119-5.876-2.854l-1.847 2.449c1.919 2.088 4.664 3.405 7.723 3.405 5.798 0 10.5-4.702 10.5-10.5s-4.702-10.5-10.5-10.5z"),f(t,"xmlns","http://www.w3.org/2000/svg"),f(t,"width","24"),f(t,"height","24"),f(t,"viewBox","0 0 24 24")},m(o,l){p(o,t,l),w(t,n),p(o,r,l),p(o,s,l)},d(o){o&&m(t),o&&m(r),o&&m(s)}}}function Be(e){let t,n,r;return n=new oe({props:{onClick:e[0],disabled:e[1],$$slots:{default:[Pe]},$$scope:{ctx:e}}}),{c(){t=d("div"),j(n.$$.fragment),f(t,"class","refresh-button")},m(s,o){p(s,t,o),y(n,t,null),r=!0},p(s,[o]){let l={};o&1&&(l.onClick=s[0]),o&2&&(l.disabled=s[1]),o&4&&(l.$$scope={dirty:o,ctx:s}),n.$set(l)},i(s){r||(g(n.$$.fragment,s),r=!0)},o(s){h(n.$$.fragment,s),r=!1},d(s){s&&m(t),C(n)}}}function qe(e,t,n){let{onClick:r}=t,{loading:s}=t;return e.$$set=o=>{"onClick"in o&&n(0,r=o.onClick),"loading"in o&&n(1,s=o.loading)},[r,s]}var le=class extends v{constructor(t){super();$(this,t,qe,Be,k,{onClick:0,loading:1})}},ae=le;var ie=e=>{let t="Unknown error occurred";return e.response?e.response.data&&e.response.data.error?t=e.response.data.error:t=e.response.statusText:e.message&&(t=e.message),t};function fe(e){let t,n;return{c(){t=d("img"),t.src!==(n=e[0])&&f(t,"src",n),f(t,"alt","Unsplash random"),f(t,"class","svelte-e5j4yg")},m(r,s){p(r,t,s)},p(r,s){s&1&&t.src!==(n=r[0])&&f(t,"src",n)},d(r){r&&m(t)}}}function Me(e){let t,n,r,s,o,l,a,i,_=e[0]&&e[0].trim()!=="",b,E,S;s=new se({props:{loading:e[1],tags:e[2],onTagChange:e[3]}}),l=new ae({props:{onClick:e[4],loading:e[1]}});let u=_&&fe(e);return{c(){t=d("div"),n=d("header"),r=d("section"),j(s.$$.fragment),o=A(),j(l.$$.fragment),a=A(),i=d("main"),u&&u.c(),b=A(),E=d("nav"),E.textContent="nav",f(r,"class","main-control svelte-e5j4yg"),f(n,"class","sidePadding svelte-e5j4yg"),f(i,"class","fullscreen"),f(t,"class","App")},m(c,T){p(c,t,T),w(t,n),w(n,r),y(s,r,null),w(r,o),y(l,r,null),w(t,a),w(t,i),u&&u.m(i,null),w(t,b),w(t,E),S=!0},p(c,[T]){let I={};T&2&&(I.loading=c[1]),T&4&&(I.tags=c[2]),s.$set(I);let K={};T&2&&(K.loading=c[1]),l.$set(K),T&1&&(_=c[0]&&c[0].trim()!==""),_?u?u.p(c,T):(u=fe(c),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(c){S||(g(s.$$.fragment,c),g(l.$$.fragment,c),S=!0)},o(c){h(s.$$.fragment,c),h(l.$$.fragment,c),S=!1},d(c){c&&m(t),C(s),C(l),u&&u.d()}}}var Ne="https://source.unsplash.com/random";function Le(e,t,n){let r="",s=!1,o="nature",l=i=>{n(2,o=i.target.value.trim())},a=async({firstLoad:i=!1})=>{try{n(1,s=!0);let{url:_=null}=await fetch(`${Ne}${o&&o.trim()!==""?`?${o.trim()}`:""}`);if(!_){console.log("No image found"),n(0,r=""),n(1,s=!1);return}i?(n(0,r=_),n(1,s=!1)):await setTimeout(()=>{n(0,r=_),n(1,s=!1)},2e3)}catch(_){ie(_),n(1,s=!1)}};return a({firstLoad:!0}),[r,s,o,l,a]}var ue=class extends v{constructor(t){super();$(this,t,Le,Me,k,{})}},ce=ue;var Oe=new ce({target:document.body}),Re=Oe;export{Re as default};
